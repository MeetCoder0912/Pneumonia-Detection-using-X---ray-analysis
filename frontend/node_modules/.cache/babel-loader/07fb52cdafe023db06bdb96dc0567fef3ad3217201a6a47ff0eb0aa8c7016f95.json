{"ast":null,"code":"// /frontend/src/components/UploadForm.js\nimport React,{useState}from'react';import Spinner from'./Spinner';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function UploadForm(_ref){let{onAnalyze,isLoading}=_ref;const[selectedFile,setSelectedFile]=useState(null);const handleFileChange=event=>{if(event.target.files&&event.target.files[0]){setSelectedFile(event.target.files[0]);}};const handleAnalyzeClick=()=>{if(!selectedFile)return;onAnalyze(selectedFile);};// This function handles the drag-and-drop functionality\nconst handleDrop=event=>{event.preventDefault();event.stopPropagation();if(event.dataTransfer.files&&event.dataTransfer.files[0]){setSelectedFile(event.dataTransfer.files[0]);}};const handleDragOver=event=>{event.preventDefault();event.stopPropagation();};return/*#__PURE__*/_jsxs(\"div\",{className:\"h-full flex flex-col items-center justify-center text-center p-4\",onDrop:handleDrop,onDragOver:handleDragOver,children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"file-upload\",className:\"w-full h-full flex flex-col items-center justify-center border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-blue-500 hover:bg-gray-50 transition-colors\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-12 h-12 text-gray-400 mb-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M7 16a4 4 0 01-4-4V7a4 4 0 014-4h.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293h3.172a1 1 0 00.707-.293l2.414-2.414A1 1 0 0116.414 3H17a4 4 0 014 4v5a4 4 0 01-4 4H7z\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg text-gray-600\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-blue-600\",children:\"Click to upload\"}),\" or drag and drop\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mt-1\",children:\"PNG, JPG, or DICOM\"}),/*#__PURE__*/_jsx(\"input\",{id:\"file-upload\",type:\"file\",className:\"sr-only\",onChange:handleFileChange,accept:\"image/png, image/jpeg, image/dicom, .dcm\"})]}),selectedFile&&!isLoading&&/*#__PURE__*/_jsxs(\"div\",{className:\"w-full mt-4\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-green-600 font-medium mb-4\",children:[\"File selected: \",selectedFile.name]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAnalyzeClick,className:\"w-full bg-blue-600 text-white font-semibold py-3 px-4 rounded-md hover:bg-blue-700 transition-colors flex items-center justify-center\",children:\"Analyze Image\"})]}),isLoading&&/*#__PURE__*/_jsx(\"div\",{className:\"w-full mt-4\",children:/*#__PURE__*/_jsxs(\"button\",{disabled:true,className:\"w-full bg-gray-400 text-white font-semibold py-3 px-4 rounded-md transition-colors flex items-center justify-center\",children:[/*#__PURE__*/_jsx(Spinner,{}),\"Analyzing...\"]})})]});}export default UploadForm;","map":{"version":3,"names":["React","useState","Spinner","jsx","_jsx","jsxs","_jsxs","UploadForm","_ref","onAnalyze","isLoading","selectedFile","setSelectedFile","handleFileChange","event","target","files","handleAnalyzeClick","handleDrop","preventDefault","stopPropagation","dataTransfer","handleDragOver","className","onDrop","onDragOver","children","htmlFor","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","id","type","onChange","accept","name","onClick","disabled"],"sources":["D:/xray-diagnosis-system/frontend/src/components/UploadForm.js"],"sourcesContent":["// /frontend/src/components/UploadForm.js\r\n\r\nimport React, { useState } from 'react';\r\nimport Spinner from './Spinner';\r\n\r\nfunction UploadForm({ onAnalyze, isLoading }) {\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n\r\n  const handleFileChange = (event) => {\r\n    if (event.target.files && event.target.files[0]) {\r\n      setSelectedFile(event.target.files[0]);\r\n    }\r\n  };\r\n\r\n  const handleAnalyzeClick = () => {\r\n    if (!selectedFile) return;\r\n    onAnalyze(selectedFile);\r\n  };\r\n\r\n  // This function handles the drag-and-drop functionality\r\n  const handleDrop = (event) => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    if (event.dataTransfer.files && event.dataTransfer.files[0]) {\r\n      setSelectedFile(event.dataTransfer.files[0]);\r\n    }\r\n  };\r\n\r\n  const handleDragOver = (event) => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n  };\r\n\r\n  return (\r\n    <div \r\n      className=\"h-full flex flex-col items-center justify-center text-center p-4\"\r\n      onDrop={handleDrop}\r\n      onDragOver={handleDragOver}\r\n    >\r\n      <label \r\n        htmlFor=\"file-upload\" \r\n        className=\"w-full h-full flex flex-col items-center justify-center border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-blue-500 hover:bg-gray-50 transition-colors\"\r\n      >\r\n        <svg className=\"w-12 h-12 text-gray-400 mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M7 16a4 4 0 01-4-4V7a4 4 0 014-4h.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293h3.172a1 1 0 00.707-.293l2.414-2.414A1 1 0 0116.414 3H17a4 4 0 014 4v5a4 4 0 01-4 4H7z\"></path></svg>\r\n        <p className=\"text-lg text-gray-600\">\r\n          <span className=\"font-semibold text-blue-600\">Click to upload</span> or drag and drop\r\n        </p>\r\n        <p className=\"text-sm text-gray-500 mt-1\">PNG, JPG, or DICOM</p>\r\n        <input \r\n          id=\"file-upload\" \r\n          type=\"file\" \r\n          className=\"sr-only\"\r\n          onChange={handleFileChange}\r\n          accept=\"image/png, image/jpeg, image/dicom, .dcm\"\r\n        />\r\n      </label>\r\n\r\n      {selectedFile && !isLoading && (\r\n        <div className=\"w-full mt-4\">\r\n          <p className=\"text-green-600 font-medium mb-4\">\r\n            File selected: {selectedFile.name}\r\n          </p>\r\n          <button\r\n            onClick={handleAnalyzeClick}\r\n            className=\"w-full bg-blue-600 text-white font-semibold py-3 px-4 rounded-md hover:bg-blue-700 transition-colors flex items-center justify-center\"\r\n          >\r\n            Analyze Image\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {isLoading && (\r\n        <div className=\"w-full mt-4\">\r\n            <button\r\n                disabled\r\n                className=\"w-full bg-gray-400 text-white font-semibold py-3 px-4 rounded-md transition-colors flex items-center justify-center\"\r\n            >\r\n                <Spinner />\r\n                Analyzing...\r\n            </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UploadForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}