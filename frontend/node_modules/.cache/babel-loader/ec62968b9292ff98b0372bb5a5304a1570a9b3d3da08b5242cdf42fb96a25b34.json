{"ast":null,"code":"// /frontend/src/components/ResultsDisplay.js\nimport React from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ResultsDisplay(_ref){let{analysisResult,uploadedImage,isLoading}=_ref;// A helper to parse the findings text into a list for better formatting\nconst parseFindings=findingsText=>{if(!findingsText||!findingsText.includes('-')){return[findingsText];}return findingsText.split('- ').filter(item=>item.trim()!==''&&item.toLowerCase()!=='potential findings:');};if(isLoading){return/*#__PURE__*/_jsxs(\"div\",{className:\"h-full flex flex-col items-center justify-center text-center p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 border-4 border-blue-500 border-dashed rounded-full animate-spin mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold text-gray-700\",children:\"Analyzing Image\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Please wait while the AI processes the X-ray...\"})]});}if(!analysisResult){return null;// Don't show anything if there are no results yet\n}const findingsList=parseFindings(analysisResult.findings);return/*#__PURE__*/_jsxs(\"div\",{className:\"h-full flex flex-col p-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-gray-800 mb-4 border-b pb-2\",children:\"Analysis Complete\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-grow overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"img\",{src:URL.createObjectURL(uploadedImage),alt:\"Uploaded X-Ray\",className:\"w-full h-auto max-h-64 object-contain rounded-lg border\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-700 mb-2\",children:\"Potential Findings:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc list-inside space-y-1 text-gray-600\",children:findingsList.map((finding,index)=>/*#__PURE__*/_jsx(\"li\",{children:finding.trim()},index))}),analysisResult.confidence&&/*#__PURE__*/_jsxs(\"p\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"strong\",{className:\"font-semibold text-gray-700\",children:\"Confidence:\"}),\" \",analysisResult.confidence]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 italic mt-4\",children:analysisResult.disclaimer})]})]});}export default ResultsDisplay;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","ResultsDisplay","_ref","analysisResult","uploadedImage","isLoading","parseFindings","findingsText","includes","split","filter","item","trim","toLowerCase","className","children","findingsList","findings","src","URL","createObjectURL","alt","map","finding","index","confidence","disclaimer"],"sources":["D:/xray-diagnosis-system/frontend/src/components/ResultsDisplay.js"],"sourcesContent":["// /frontend/src/components/ResultsDisplay.js\r\n\r\nimport React from 'react';\r\n\r\nfunction ResultsDisplay({ analysisResult, uploadedImage, isLoading }) {\r\n  \r\n  // A helper to parse the findings text into a list for better formatting\r\n  const parseFindings = (findingsText) => {\r\n    if (!findingsText || !findingsText.includes('-')) {\r\n      return [findingsText];\r\n    }\r\n    return findingsText.split('- ').filter(item => item.trim() !== '' && item.toLowerCase() !== 'potential findings:');\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"h-full flex flex-col items-center justify-center text-center p-4\">\r\n        <div className=\"w-16 h-16 border-4 border-blue-500 border-dashed rounded-full animate-spin mb-4\"></div>\r\n        <p className=\"text-lg font-semibold text-gray-700\">Analyzing Image</p>\r\n        <p className=\"text-gray-500\">Please wait while the AI processes the X-ray...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!analysisResult) {\r\n    return null; // Don't show anything if there are no results yet\r\n  }\r\n\r\n  const findingsList = parseFindings(analysisResult.findings);\r\n\r\n  return (\r\n    <div className=\"h-full flex flex-col p-4\">\r\n      <h2 className=\"text-2xl font-semibold text-gray-800 mb-4 border-b pb-2\">Analysis Complete</h2>\r\n      <div className=\"flex-grow overflow-y-auto\">\r\n        <div className=\"mb-4\">\r\n          <img \r\n            src={URL.createObjectURL(uploadedImage)} \r\n            alt=\"Uploaded X-Ray\" \r\n            className=\"w-full h-auto max-h-64 object-contain rounded-lg border\" \r\n          />\r\n        </div>\r\n        <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n          <h3 className=\"font-semibold text-gray-700 mb-2\">Potential Findings:</h3>\r\n          <ul className=\"list-disc list-inside space-y-1 text-gray-600\">\r\n            {findingsList.map((finding, index) => (\r\n              <li key={index}>{finding.trim()}</li>\r\n            ))}\r\n          </ul>\r\n          {/* FIX: Added this block to display the confidence score */}\r\n          {analysisResult.confidence && (\r\n            <p className=\"mt-3\">\r\n              <strong className=\"font-semibold text-gray-700\">Confidence:</strong> {analysisResult.confidence}\r\n            </p>\r\n          )}\r\n        </div>\r\n        <p className=\"text-xs text-gray-500 italic mt-4\">{analysisResult.disclaimer}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ResultsDisplay;\r\n"],"mappings":"AAAA;AAEA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,QAAS,CAAAC,cAAcA,CAAAC,IAAA,CAA+C,IAA9C,CAAEC,cAAc,CAAEC,aAAa,CAAEC,SAAU,CAAC,CAAAH,IAAA,CAElE;AACA,KAAM,CAAAI,aAAa,CAAIC,YAAY,EAAK,CACtC,GAAI,CAACA,YAAY,EAAI,CAACA,YAAY,CAACC,QAAQ,CAAC,GAAG,CAAC,CAAE,CAChD,MAAO,CAACD,YAAY,CAAC,CACvB,CACA,MAAO,CAAAA,YAAY,CAACE,KAAK,CAAC,IAAI,CAAC,CAACC,MAAM,CAACC,IAAI,EAAIA,IAAI,CAACC,IAAI,CAAC,CAAC,GAAK,EAAE,EAAID,IAAI,CAACE,WAAW,CAAC,CAAC,GAAK,qBAAqB,CAAC,CACpH,CAAC,CAED,GAAIR,SAAS,CAAE,CACb,mBACEL,KAAA,QAAKc,SAAS,CAAC,kEAAkE,CAAAC,QAAA,eAC/EjB,IAAA,QAAKgB,SAAS,CAAC,iFAAiF,CAAM,CAAC,cACvGhB,IAAA,MAAGgB,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,iBAAe,CAAG,CAAC,cACtEjB,IAAA,MAAGgB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,iDAA+C,CAAG,CAAC,EAC7E,CAAC,CAEV,CAEA,GAAI,CAACZ,cAAc,CAAE,CACnB,MAAO,KAAI,CAAE;AACf,CAEA,KAAM,CAAAa,YAAY,CAAGV,aAAa,CAACH,cAAc,CAACc,QAAQ,CAAC,CAE3D,mBACEjB,KAAA,QAAKc,SAAS,CAAC,0BAA0B,CAAAC,QAAA,eACvCjB,IAAA,OAAIgB,SAAS,CAAC,yDAAyD,CAAAC,QAAA,CAAC,mBAAiB,CAAI,CAAC,cAC9Ff,KAAA,QAAKc,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxCjB,IAAA,QAAKgB,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnBjB,IAAA,QACEoB,GAAG,CAAEC,GAAG,CAACC,eAAe,CAAChB,aAAa,CAAE,CACxCiB,GAAG,CAAC,gBAAgB,CACpBP,SAAS,CAAC,yDAAyD,CACpE,CAAC,CACC,CAAC,cACNd,KAAA,QAAKc,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxCjB,IAAA,OAAIgB,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,qBAAmB,CAAI,CAAC,cACzEjB,IAAA,OAAIgB,SAAS,CAAC,+CAA+C,CAAAC,QAAA,CAC1DC,YAAY,CAACM,GAAG,CAAC,CAACC,OAAO,CAAEC,KAAK,gBAC/B1B,IAAA,OAAAiB,QAAA,CAAiBQ,OAAO,CAACX,IAAI,CAAC,CAAC,EAAtBY,KAA2B,CACrC,CAAC,CACA,CAAC,CAEJrB,cAAc,CAACsB,UAAU,eACxBzB,KAAA,MAAGc,SAAS,CAAC,MAAM,CAAAC,QAAA,eACjBjB,IAAA,WAAQgB,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAC,aAAW,CAAQ,CAAC,IAAC,CAACZ,cAAc,CAACsB,UAAU,EAC9F,CACJ,EACE,CAAC,cACN3B,IAAA,MAAGgB,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAEZ,cAAc,CAACuB,UAAU,CAAI,CAAC,EAC7E,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAAzB,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}